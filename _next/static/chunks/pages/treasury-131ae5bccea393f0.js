(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2277],{51331:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return fe}});var a=n(76250),s=n(7177),i=n(25081),r=n(4401),l=n(57495),u=n(70452),d=n(88767),o=n(34123),p=JSON.parse('[{"inputs":[{"internalType":"address","name":"_floor","type":"address"},{"internalType":"uint256","name":"_timelock","type":"uint256"},{"internalType":"address","name":"_authority","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IFloorAuthority","name":"authority","type":"address"}],"name":"AuthorityUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"debtor","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"CreateDebt","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Managed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"enum FloorTreasury.STATUS","name":"status","type":"uint8"},{"indexed":false,"internalType":"address","name":"queued","type":"address"}],"name":"PermissionQueued","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"addr","type":"address"},{"indexed":true,"internalType":"enum FloorTreasury.STATUS","name":"status","type":"uint8"},{"indexed":false,"internalType":"bool","name":"result","type":"bool"}],"name":"Permissioned","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"debtor","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"RepayDebt","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"totalReserves","type":"uint256"}],"name":"ReservesAudited","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"valuation","type":"uint256"}],"name":"RiskOffValueSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Withdrawal","type":"event"},{"inputs":[],"name":"FLOOR","outputs":[{"internalType":"contract IFLOOR","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"_riskOffValuation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"auditReserves","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"authority","outputs":[{"internalType":"contract IFloorAuthority","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"blocksNeededForQueue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"bondCalculator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"debtLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_profit","type":"uint256"}],"name":"deposit","outputs":[{"internalType":"uint256","name":"send_","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"enum FloorTreasury.STATUS","name":"_status","type":"uint8"},{"internalType":"address","name":"_toDisable","type":"address"}],"name":"disable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"disableTimelock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"enum FloorTreasury.STATUS","name":"_status","type":"uint8"},{"internalType":"address","name":"_address","type":"address"},{"internalType":"address","name":"_calculator","type":"address"}],"name":"enable","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"excessReserves","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"execute","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"floorDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_token","type":"address"}],"name":"incurDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"enum FloorTreasury.STATUS","name":"_status","type":"uint8"}],"name":"indexInRegistry","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"initialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"manage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_recipient","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"nullify","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"onChainGovernanceTimelock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"permissionQueue","outputs":[{"internalType":"enum FloorTreasury.STATUS","name":"managing","type":"uint8"},{"internalType":"address","name":"toPermit","type":"address"},{"internalType":"address","name":"calculator","type":"address"},{"internalType":"uint256","name":"timelockEnd","type":"uint256"},{"internalType":"bool","name":"nullify","type":"bool"},{"internalType":"bool","name":"executed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum FloorTreasury.STATUS","name":"","type":"uint8"},{"internalType":"address","name":"","type":"address"}],"name":"permissions","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"enum FloorTreasury.STATUS","name":"_status","type":"uint8"},{"internalType":"address","name":"_address","type":"address"},{"internalType":"address","name":"_calculator","type":"address"}],"name":"queueTimelock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"enum FloorTreasury.STATUS","name":"","type":"uint8"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"registry","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"repayDebtWithFLOOR","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_token","type":"address"}],"name":"repayDebtWithReserve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"}],"name":"riskOffValuation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"sFLOOR","outputs":[{"internalType":"contract IsFLOOR","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract IFloorAuthority","name":"_newAuthority","type":"address"}],"name":"setAuthority","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"uint256","name":"_limit","type":"uint256"}],"name":"setDebtLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_valuation","type":"uint256"}],"name":"setRiskOffValuation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"timelockEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"tokenValue","outputs":[{"internalType":"uint256","name":"value_","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalReserves","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_token","type":"address"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),m=n(92343);var c=(e,t)=>new m.Z(e,(0,i.Z)(s.HX,e),p,t).baseSupply();var y=()=>{const{network:e,provider:t}=(0,o.gK)();return(0,d.useQuery)(["treasuryBaseSupply",e],(()=>c(e,t)),{enabled:!!e&&!!t})};var x=()=>{const{chainId:e}=(0,l.K)(),{data:t}=(0,a.Z)(),{data:n}=y(),o=(0,u.m)((0,i.Z)(s.aj,e),(0,i.Z)(s.VX,e));return(0,d.useQuery)(["marketCap",`${t}`,`${n}`],(()=>t.mul(n.sub(o)).div(r.D_)),{enabled:!!(t&&n&&o),refetchInterval:!1})},h=n(59499),f=n(91085),v=n(54477),b=n(39229),j=n(2593),T=n(21046),g=n(92328);const w=e=>j.O$.from(Math.floor(Number(e||"0")).toString()),N=e=>["0x",Number(e).toString(16)].join(""),k=(e,t,n)=>[N(e),t,"ip"===n?"0x1":"0x0"].join("-");async function Z({network:e=v.Ai,timestampFrom:t,userAddress:n,vaultIds:a}){const s=await async function({timestamp:e}){const t=await fetch(`https://etherscan-api-proxy.nftx.workers.dev/?timestamp=${e}`),n=await t.json();return Number(n.result)}({timestamp:t}),r=a.map((e=>N(e))),l=(({blockFrom:e,ids:t,vaultHexIds:n,timestampFrom:a,userAddress:s})=>`\n    {\n      userVaultFeeAggregates(\n        block: { number: ${e} }\n        where: { id_in: ${JSON.stringify(t)} }\n        first: 1000\n      ) {\n        vault {\n          id\n          vaultId\n        }\n        aggregatedVaultFees\n      }\n      user(id: "${s.toLocaleLowerCase()}") {\n        earnings(\n          where: { vault_in: ${JSON.stringify(n)}, timestamp_gt: ${a} }\n          first: 1000\n          orderBy: timestamp\n          orderDirection: asc\n        ) {\n          vault {\n            id\n            vaultId\n            ticker\n            address\n          }\n          action {\n            id\n            label\n          }\n          timestamp\n          amount\n        }\n      }\n    }\n  `)({blockFrom:s,ids:r.flatMap((e=>[k(e,n,"ip"),k(e,n,"lp")])),timestampFrom:t,userAddress:n,vaultHexIds:r}),u=await(0,g.Z)({url:(0,i.Z)(b.E$,e),query:l}),d=(e=>Object.values(e).flatMap((({earnings:e,ticker:t,vaultId:n,id:a})=>Object.values(e).flatMap((e=>Object.values(e).map((({amount:e,timestamp:s,toDate:i,type:r,txnId:l})=>({vaultId:n,vaultAddress:a,symbol:t,amount:e,timestamp:s,toDate:i,type:r,txnId:l}))))))).sort(((e,t)=>t.timestamp-e.timestamp)))(((e,t)=>{const n={};return e.forEach((e=>{const a=e.vault.vaultId,s=60*Math.floor(Number(e.timestamp)/60),i=w(e.amount);let r=n[a];if(!r){var l;const s=w(null===(l=t.find((e=>e.vault.vaultId===a)))||void 0===l?void 0:l.aggregatedVaultFees);r=n[a]={id:e.vault.address,vaultId:a,initial:s,toDate:s,ticker:e.vault.ticker,earnings:{}}}let u=r.earnings[s];u||(u=r.earnings[s]={});let d=u[e.action.id];d||(d=u[e.action.id]={txnId:e.action.id,type:e.action.label.toLowerCase(),amount:T._Y,timestamp:s,toDate:r.toDate}),d.amount=d.amount.add(i),d.toDate=d.toDate.add(i),r.toDate=r.toDate.add(i)})),n})(u.user.earnings,u.userVaultFeeAggregates));return d}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=({userAddress:e,vaultIds:t},n)=>{const{network:a}=(0,o.gK)(),s=!(!e||null===t||void 0===t||!t.length)&&!1!==(null===n||void 0===n?void 0:n.enabled);return(0,d.useQuery)(["cumulativeFees",a,e,`${t}`],(()=>{const n=Math.floor(Date.now()/1e3-f.IZ);return Z({network:a,timestampFrom:n,userAddress:e,vaultIds:t})}),O(O({},n),{},{enabled:s}))},S=n(33555),F=n(2949),I=n(54880),D=n(73229),A=n(86446),P=n(1832),E=n(16372),R=n(67294),$=n(44012),L=n(50036),B=n(97735),C=n(92401),H=n(3645),V=n(5160),X=n(54490),K=n(70655),U=n(25687),W=n(86896),z=3600;function J(e){var t=Math.abs(e);return t<60?"second":t<z?"minute":t<86400?"hour":"day"}function Q(e){switch(e){case"second":return 1;case"minute":return 60;case"hour":return z;default:return 86400}}var q=["second","minute","hour"];function G(e){return void 0===e&&(e="second"),q.indexOf(e)>-1}var Y=function(e){var t=(0,W.Z)(),n=t.formatRelativeTime,a=t.textComponent,s=e.children,i=n(e.value||0,e.unit,(0,K.__rest)(e,["children","value","unit"]));return"function"===typeof s?s(i):a?R.createElement(a,null,i):R.createElement(R.Fragment,null,i)},ee=function(e){var t=e.value,n=e.unit,a=e.updateIntervalInSeconds,s=(0,K.__rest)(e,["value","unit","updateIntervalInSeconds"]);(0,U.kG)(!a||!(!a||!G(n)),"Cannot schedule update with unit longer than hour");var i,r=R.useState(),l=r[0],u=r[1],d=R.useState(0),o=d[0],p=d[1],m=R.useState(0),c=m[0],y=m[1];n===l&&t===o||(p(t||0),u(n),y(G(n)?function(e,t){if(!e)return 0;switch(t){case"second":return e;case"minute":return 60*e;default:return e*z}}(t,n):0)),R.useEffect((function(){function e(){clearTimeout(i)}if(e(),!a||!G(n))return e;var t=c-a,s=J(t);if("day"===s)return e;var r=Q(s),l=t-t%r,u=l>=c?l-r:l,d=Math.abs(u-c);return c!==u&&(i=setTimeout((function(){return y(u)}),1e3*d)),e}),[c,a,n]);var x=t||0,h=n;if(G(n)&&"number"===typeof c&&a){var f=Q(h=J(c));x=Math.round(c/f)}return R.createElement(Y,(0,K.__assign)({value:x,unit:h},s))};ee.displayName="FormattedRelativeTime",ee.defaultProps={value:0,unit:"second"};var te=ee,ne=n(56371),ae=n(25675),se=n(81510),ie=n.n(se),re=n(21225),le=n(85893);var ue=({token:e,xSlp:t,spotPrice:n,vaultId:a,slp:s,type:i})=>{const r="xslp"==i?t:s,l=(0,re.Z)(r.share);return(0,le.jsxs)("tr",{children:[(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)(H.Z,{name:e.symbol,slp:!0,src:(0,V.Z)(a)}),(0,le.jsx)("span",{className:"ml-4 normal-case",children:r.symbol})]})}),(0,le.jsxs)("td",{className:"px-4 py-3",children:[l?(0,le.jsx)($.Z,{id:"treasury.table.lp.share",values:{share:(0,le.jsx)(X.BK,{style:"percent",value:l})}}):null,(0,le.jsx)("br",{}),(0,le.jsxs)("span",{className:"text-xs text-white text-opacity-80",children:[(0,le.jsx)(X.BK,{value:(0,re.Z)(r.vToken)})," ",e.symbol,(0,le.jsx)("br",{}),(0,le.jsx)(X.BK,{value:(0,re.Z)(r.weth)})," ",(0,le.jsx)($.Z,{id:"common.weth"})]})]}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)("b",{className:"bg-clip-text bg-gradient-to-r from-teal-500 to-purple-500 text-transparent",children:(0,le.jsx)($.Z,{id:"treasury.table.type.liquidity"})})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(B.Z,{value:n.mul(r.vToken.div(T.Ce)).add(r.weth)})})]})},de=n(58054),oe=n(83778);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ce=1e9;var ye=({treasuryBalance:e,floorPrice:t,mcap:n,etherBalance:a,wethBalance:s,holdings:i,floorEthLp:r,usdcBalance:l,usdcValue:u,cumulativeFees:d})=>(0,le.jsxs)("div",{className:"w-full my-20",children:[(0,le.jsx)("div",{className:"px-6 text-center",children:(0,le.jsxs)("div",{className:"max-w-6xl w-full mx-auto",children:[(0,le.jsx)(C.Z,{statistics:[{key:"treasury",label:(0,le.jsx)($.Z,{id:"common.treasury"}),value:(0,le.jsx)(B.Z,{value:e,maximumFractionDigits:0})},{key:"floorPrice",label:(0,le.jsx)($.Z,{id:"common.$floor"}),value:(0,le.jsx)(B.Z,{value:t})},{key:"mcap",label:(0,le.jsx)($.Z,{id:"common.mcap"}),value:(0,le.jsx)(B.Z,{value:n,maximumFractionDigits:0})}]}),(0,le.jsxs)("section",{className:"mt-8",children:[(0,le.jsx)("h3",{className:"mb-6 text-gray-600",children:(0,le.jsx)($.Z,{id:"treasury.data.links"})}),(0,le.jsxs)("div",{className:"space-x-12",children:[(0,le.jsxs)("a",{href:"https://dune.com/floor_dao/Floor",target:"_blank",rel:"nofollow noreferrer",className:"text-lg inline-flex mx-2 items-center border-b border-gray-400 hover:border-transparent",children:[(0,le.jsx)($.Z,{id:"common.dune"}),(0,le.jsx)(de.ZP,{name:de.PJ.ARROW_RIGHT,className:"ml-4 rotate -rotate-45",size:de.$u.SMALL})]}),(0,le.jsxs)("a",{href:"https://zapper.fi/bundle/0x91e453f442d25523f42063e1695390e325076ca2,0xa9d93a5cca9c98512c8c56547866b1db09090326",target:"_blank",rel:"nofollow noreferrer",className:"text-lg inline-flex mx-2 items-center border-b border-gray-400 hover:border-transparent",children:[(0,le.jsx)($.Z,{id:"common.zapper"}),(0,le.jsx)(de.ZP,{name:de.PJ.ARROW_RIGHT,className:"ml-4 rotate -rotate-45",size:de.$u.SMALL})]}),(0,le.jsxs)("a",{href:"https://yield.nftx.io/user/0x91e453f442d25523f42063e1695390e325076ca2/",target:"_blank",rel:"nofollow noreferrer",className:"text-lg inline-flex mx-2 items-center border-b border-gray-400 hover:border-transparent",children:[(0,le.jsx)($.Z,{id:"common.nftx"}),(0,le.jsx)(de.ZP,{name:de.PJ.ARROW_RIGHT,className:"ml-4 rotate -rotate-45",size:de.$u.SMALL})]})]})]})]})}),(0,le.jsxs)("section",{className:"mt-12 grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4 px-6 mx-auto w-full max-w-[1600px]",children:[(0,le.jsxs)(L.Z,{className:"lg:col-span-2 2xl:col-span-3",children:[(0,le.jsx)("h3",{className:"mb-6 text-left",children:(0,le.jsx)($.Z,{id:"treasury.holdings.eth"})}),(0,le.jsxs)("div",{className:"overflow-hidden overflow-x-scroll md:overflow-x-auto",children:[(0,le.jsxs)("table",{className:`mb-14 w-full table-auto text-right ${ie()["table-stripe"]}`,children:[(0,le.jsx)("thead",{children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-4 py-3 text-left",children:(0,le.jsx)($.Z,{id:"treasury.table.token"})}),(0,le.jsx)("th",{className:"px-4 py-3",children:(0,le.jsx)($.Z,{id:"treasury.table.balance"})}),(0,le.jsx)("th",{className:"px-4 py-3",children:(0,le.jsx)($.Z,{id:"treasury.table.value"})})]})}),(0,le.jsxs)("tbody",{className:"text-sm",children:[null!==a&&void 0!==a&&a.gt(0)?(0,le.jsxs)("tr",{children:[(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)(ae.default,{src:"/images/tokens/256x256/ETH.png",width:48,height:48,alt:"ETH",className:"w-12 h-12 flex-none"}),(0,le.jsx)("span",{className:"ml-4",children:(0,le.jsx)($.Z,{id:"common.eth"})})]})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(X.BK,{value:(0,re.Z)(a)})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(B.Z,{value:a})})]}):null,null!==s&&void 0!==s&&s.gt(0)?(0,le.jsxs)("tr",{children:[(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)(ae.default,{src:"/images/tokens/256x256/WETH.png",width:42,height:42,alt:"WETH"}),(0,le.jsx)("span",{className:"ml-4",children:(0,le.jsx)($.Z,{id:"common.weth"})})]})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(X.BK,{value:(0,re.Z)(s)})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(B.Z,{value:s})})]}):null,null!==l&&void 0!==l&&l.gt(0)?(0,le.jsxs)("tr",{children:[(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)(ae.default,{src:"/images/tokens/256x256/USDC.png",width:42,height:42,alt:"USDC"}),(0,le.jsx)("span",{className:"ml-4",children:"USDC"})]})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(X.BK,{value:(0,re.Z)(l,6),maximumFractionDigits:0})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(B.Z,{value:u})})]}):null]})]}),(0,le.jsx)("h3",{className:"mb-6 text-left",children:(0,le.jsx)($.Z,{id:"treasury.holdings.nftx"})}),(0,le.jsxs)("table",{className:`w-full table-auto text-right ${ie()["table-stripe"]}`,children:[(0,le.jsx)("thead",{children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-4 py-3 text-left",children:(0,le.jsx)($.Z,{id:"treasury.table.token"})}),(0,le.jsx)("th",{className:"px-4 py-3",children:(0,le.jsx)($.Z,{id:"treasury.table.balance"})}),(0,le.jsx)("th",{className:"px-4 py-3",children:(0,le.jsx)($.Z,{id:"treasury.table.type"})}),(0,le.jsx)("th",{className:"px-4 py-3",children:(0,le.jsx)($.Z,{id:"treasury.table.value"})})]})}),(0,le.jsx)("tbody",{className:"text-sm",children:null!==i&&void 0!==i&&i.length?null===i||void 0===i?void 0:i.map(((e,t)=>{var n,a,s,i,r;return(0,le.jsxs)(le.Fragment,{children:[null!==e&&void 0!==e&&null!==(n=e.token)&&void 0!==n&&null!==(a=n.vToken)&&void 0!==a&&a.gt(ce)?(0,le.jsxs)("tr",{children:[(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)(H.Z,{name:e.token.symbol,slp:!1,src:(0,V.Z)(e.vaultId)}),(0,le.jsx)("span",{className:"ml-4",children:e.token.symbol})]})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(X.BK,{value:Number((0,ne.formatEther)(e.token.vToken)),minimumFractionDigits:2,maximumFractionDigits:4})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)($.Z,{id:"treasury.table.type.vtoken"})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(B.Z,{value:e.spotPrice.mul(e.token.vToken).div(T.Ce)})})]}):null,null!==e&&void 0!==e&&null!==(s=e.xToken)&&void 0!==s&&s.vToken.gt(ce)?(0,le.jsxs)("tr",{children:[(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)(H.Z,{name:e.token.symbol,slp:!1,src:(0,V.Z)(e.vaultId)}),(0,le.jsx)("span",{className:"ml-4 normal-case",children:e.xToken.symbol})]})}),(0,le.jsxs)("td",{className:"px-4 py-3",children:[(0,le.jsx)(X.BK,{value:Number((0,ne.formatEther)(e.xToken.vToken))})," ",e.token.symbol]}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)("b",{className:"bg-clip-text bg-gradient-to-r from-orange-500 to-pink-500 text-transparent",children:(0,le.jsx)($.Z,{id:"treasury.table.type.inventory"})})}),(0,le.jsx)("td",{className:"px-4 py-3",children:(0,le.jsx)(B.Z,{value:e.spotPrice.mul(e.xToken.vToken).div(T.Ce)})})]}):null,null!==e&&void 0!==e&&null!==(i=e.slp)&&void 0!==i&&i.vToken.gt(ce)?(0,le.jsx)(ue,me(me({},e),{},{type:"slp"})):null,null!==e&&void 0!==e&&null!==(r=e.xSlp)&&void 0!==r&&r.vToken.gt(ce)?(0,le.jsx)(ue,me(me({},e),{},{type:"xslp"})):null]})})):(0,le.jsx)("tr",{children:(0,le.jsx)("td",{colSpan:5,children:(0,le.jsxs)("div",{className:"flex items-center justify-center",children:[(0,le.jsx)("img",{src:"/images/sweep.gif",alt:"\ud83e\uddf9",className:"w-10 h-10"}),(0,le.jsx)("img",{src:"/images/sweep.gif",alt:"\ud83e\uddf9",className:"w-10 h-10"}),(0,le.jsx)("img",{src:"/images/sweep.gif",alt:"\ud83e\uddf9",className:"w-10 h-10"})]})})})})]})]})]}),(0,le.jsxs)(L.Z,{className:"lg:col-span-1 2xl:col-span-1",children:[(0,le.jsx)("h3",{className:"mb-4 text-left",children:(0,le.jsx)($.Z,{id:"treasury.yield"})}),(0,le.jsxs)("div",{className:"relative",children:[(0,le.jsx)("div",{className:"absolute top-0 w-full h-4 bg-gradient-to-b from-gray-800"}),(0,le.jsx)("div",{className:"max-h-[1200px] overflow-scroll hide-scroll",children:(0,le.jsxs)("table",{className:"w-full mt-2",children:[(0,le.jsx)("thead",{children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"text-left px-4 py-2",children:(0,le.jsx)($.Z,{id:"treasury.yield.pool"})}),(0,le.jsx)("th",{className:"text-right px-4 py-2",children:(0,le.jsx)($.Z,{id:"treasury.yield.amount"})})]})}),(0,le.jsx)("tbody",{children:null===d||void 0===d?void 0:d.map(((e,t)=>(0,le.jsxs)("tr",{className:""+(t%2==0?"bg-gray-700":"bg-gray-800"),children:[(0,le.jsx)("td",{className:"pl-3 py-3 pr-1",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("div",{className:"w-12 h-12 md:w-10 md:h-10 2xl:w-12 2xl:h-12 flex-none mr-6 md:mr-3 2xl:mr-4",children:(0,le.jsx)("img",{className:"aspect-square",src:(0,V.Z)(e.vaultId),alt:e.vaultId})}),(0,le.jsxs)("div",{children:[(0,le.jsx)("div",{className:"text-xs",children:e.type}),(0,le.jsx)("a",{href:(0,oe.yE)(e.txnId,v.Ai),className:"inline-flex items-center text-xs text-gray-300 uppercase hover:underline",target:"_blank",rel:"nofollow noreferrer",children:(0,le.jsx)(te,{value:e.timestamp-Date.now()/1e3,updateIntervalInSeconds:60,style:"short"})})]})]})}),(0,le.jsxs)("td",{className:"pl-1 py-3 pr-3 text-sm text-right",children:["+",(0,le.jsx)(X.BK,{value:Number((0,ne.formatEther)(e.amount)),maximumFractionDigits:6})," ",e.symbol]})]},`${e.vaultId}_${t}`)))})]})}),(0,le.jsx)("div",{className:"absolute bottom-0 w-full h-4 bg-gradient-to-t from-gray-800"})]})]})]})]});var xe=()=>{const{chainId:e}=(0,l.K)(),{data:t,status:n}=(0,F.Z)(),{data:r,status:d}=(0,a.Z)(),{data:o,status:p}=x(),{data:m}=(0,I.Z)(),{data:c}=(0,S.Z)(),{data:y}=(0,D.Z)(),h=(0,u.m)((0,i.Z)(s.gn,e),(0,i.Z)(s.VX,e)),f=(0,E.M)((0,i.Z)(s.HX,e)),v=(0,u.m)((0,i.Z)(s.DX,e),(0,i.Z)(s.HX,e)),b=(0,E.M)((0,i.Z)(s.VX,e)),j=(0,u.m)((0,i.Z)(s.DX,e),(0,i.Z)(s.VX,e)),g=(0,i.Z)(A.M,e).map((e=>e.vaultId)),{data:w}=M({userAddress:(0,i.Z)(s.HX,e),vaultIds:g}),{data:N}=M({userAddress:(0,i.Z)(s.VX,e),vaultIds:g}),k=(0,R.useMemo)((()=>N&&w?[...N,...w].sort(((e,t)=>t.timestamp-e.timestamp)):[]),[N,w]),Z=f&&b?f.add(b):T._Y,_=v&&j?v.add(j):T._Y,O=c&&h?h.mul(T.Ce).div(c):T._Y,L=(0,P.Z)(n,d,p);return"error"===L?(0,le.jsx)("div",{children:(0,le.jsx)($.Z,{id:"treasury.view.error"})}):"loading"===L||"idle"===L?(0,le.jsx)("div",{className:"h-full p-24 flex justify-center items-center",children:(0,le.jsx)("img",{src:"/images/sweep.gif",alt:"\ud83e\uddf9",className:"w-10 h-10"})}):(0,le.jsx)(ye,{treasuryBalance:t,floorEthLp:m,floorPrice:r,mcap:o,holdings:y,etherBalance:Z,wethBalance:_,usdcBalance:h,usdcValue:O,cumulativeFees:k})},he=n(9008);function fe(){const{formatMessage:e}=(0,W.Z)();return(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(he.default,{children:[(0,le.jsx)("title",{children:e({id:"meta.treasury.title"})}),(0,le.jsx)("meta",{name:"description",content:e({id:"meta.treasury.description"})}),(0,le.jsx)("meta",{property:"og:title",name:"twitter:title",content:e({id:"common.floordao"})}),(0,le.jsx)("meta",{property:"og:description",name:"twitter:description",content:e({id:"meta.treasury.description"})})]}),(0,le.jsx)(xe,{})]})}},92401:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(67294),s=n(85893);var i=({statistics:e,dividers:t})=>(0,s.jsx)("div",{className:"py-8 inline-flex flex-col sm:flex-row sm:items-center space-y-6 sm:space-y-0 sm:space-x-12 md:space-x-20 lg:space-x-24 xl:space-x-36",children:null===e||void 0===e?void 0:e.map(((e,n)=>(0,s.jsxs)(a.Fragment,{children:[0!==n&&t?(0,s.jsx)("div",{className:"hidden sm:block flex-none w-0.5 h-8 bg-teal-700"}):null,(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h5",{className:"mb-2 sm:mb-4 opacity-75",children:e.label}),(0,s.jsx)("b",{className:"text-3xl",children:e.value})]})]},e.key)))})},3645:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(25675),s=n(85893);var i=({slp:e,name:t,size:n=48,src:i=`/images/tokens/256x256/${e?t.replace(/(WETH|WEETH)/,""):t}.png`})=>{const r=32===n?"w-8 h-8":"w-12 h-12";return(0,s.jsxs)("span",{className:"inline-flex items-center",children:[(0,s.jsx)("span",{className:`${r} flex-none ${e?32===n?"-mr-3 z-10":"-mr-6 z-10":""}`,children:i.startsWith("/")?(0,s.jsx)(a.default,{src:i,width:n,height:n,alt:t}):(0,s.jsx)("img",{src:i,width:n,height:n,alt:t})}),e?(0,s.jsx)("span",{className:`${r} flex-none`,children:(0,s.jsx)(a.default,{src:"/images/tokens/256x256/ETH.png",width:n,height:n,alt:"ETH"})}):null]})}},5160:function(e,t){"use strict";t.Z=e=>{var t;return`https://res.cloudinary.com/nftx/image/fetch/w_150,h_150,f_auto/https://raw.githubusercontent.com/NFTX-project/nftx-assets/main/vaults-v2/${(null===e||void 0===e||null===(t=e.replace(/ /g,"-"))||void 0===t?void 0:t.toLocaleLowerCase())||""}/256x256.png`}},1832:function(e,t){"use strict";const n=["success","error","idle","loading"];t.Z=(...e)=>e.reduce(((e,t)=>n.indexOf(t)>n.indexOf(e)?t:e),"success")},74931:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/treasury",function(){return n(51331)}])},81510:function(e){e.exports={"table-stripe":"Treasury_table-stripe__k3YyX"}}},function(e){e.O(0,[5675,9774,2888,179],(function(){return t=74931,e(e.s=t);var t}));var t=e.O();_N_E=t}]);